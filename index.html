<!DOCTYPE html>
<html>
    <head>
        <title>Covid 19 tracker</title>
        <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    </head>
    <body>
    <div class="con">
    <header><div>Covid 19 Tracker</div></header>
    
     <div class = "country">
         <label for ="country">country</label>
         <select id="country" onchange="updateCountry()">
         </select>
      </div>
        <script>
            const COUNTRIES = ["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burma","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo (Brazzaville)","Congo (Kinshasa)","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czechia","Denmark","Diamond Princess","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Holy See","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Korea, South","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","MS Zaandam","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Namibia","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Macedonia","Norway","Oman","Pakistan","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Somalia","South Africa","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Taiwan*","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Trinidad and Tobago","Tunisia","Turkey","US","Uganda","Ukraine","United Arab Emirates","United Kingdom","Uruguay","Uzbekistan","Venezuela","Vietnam","West Bank and Gaza","Western Sahara","Yemen","Zambia","Zimbabwe"];
            for(let i=0;i<C OUNTRIES.length;i++){
                var para = document.createElement("option");
                var node = document.createTextNode(COUNTRIES[i]);
                para.setAttribute(value, COUNTRIES[i])
                para.appendChild(node);
                var element = document.getElementById("country");
            }
        </script>

    
    <div class="tit"><div class="title">Country</div></div>
        
    <div class="confirmbox">
     <div class="title">Confirmed Cases</div>
     <div class="count confirm">000000</div>
    </div>
  
    <div class="activebox">
      <div class="title">Active Cases</div>
      <div class="count active">000000</div>
    </div>
  
    <div class="deathbox">
      <div class="title">Deaths</div>
      <div class="count death">000000</div>
    </div>
  
    <div class="recoverbox">
      <div class="title">Recovered</div>
      <div class="count recover">000000</div>
    </div>
    
  </div>
 <script>
   var button = document.querySelector(".button");
   button.addEventListener('click',getdata);
   async function getdata(){
     var input = document.querySelector(".input");
     var confirm = document.querySelector(".confirm");
     var active = document.querySelector(".active");
     var death = document.querySelector(".death");
     var recover = document.querySelector(".recover");
     var title = document.querySelector(".title")
     var country = input.value;
     if(country == ""){
        alert("Pls input correct value")
     }
     try{
        const res = await fetch('https://covid19.mathdro.id/api/countries/'+ country)
        const data = await res.json()
        //console.log(JSON.stringify(data))
        confirm.innerHTML = data.confirmed.value;
        death.innerHTML = data.deaths.value;
        recover.innerHTML = data.recovered.value;
        active.innerHTML = parseInt(data.confirmed.value-(data.recovered.value + data.deaths.value));
        title.innerHTML = input.value.toUpperCase();;
        input.value = "";
     }
     catch(e){
           alert("Country not found")
           input.value ="";
     }
    //alert(data.error.message)
    }
  </script>
 </body>
</html>
